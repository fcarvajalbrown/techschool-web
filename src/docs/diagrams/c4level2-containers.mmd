# C4 Level 2 â€” Container

```mermaid
flowchart TD
    DEV["ðŸ‘¤ **Developer**\nWrites source code,\nruns pnpm scripts, commits"]

    subgraph REPO["ðŸ“¦ techschool-web â€” Monorepo boundary"]
        direction TD

        CFG["âš™ï¸ **Project Config Layer**\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nastro.config.mjs Â· tsconfig.json Â· .npmrc\n\nastro.config.mjs â†’ registers Astro integrations\n  (sitemap, compressor, astro-icon, seo-schema)\n  sets LightningCSS as CSS transformer\n\ntsconfig.json â†’ extends astro/tsconfigs/strict\n  defines 9 path aliases (@components, @ui,\n  @layouts, @scripts, @styles, @data,\n  @contracts, @struct, @images)\n\n.npmrc â†’ pnpm registry & install config"]

        TOOL["ðŸ”§ **Dev Toolchain**\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nESLint Â· ls-lint Â· commitlint\nlint-staged Â· simple-git-hooks\n\nRuns automatically on every git commit:\n  pre-commit â†’ lint-staged (ESLint --fix)\n               + ls-lint (file naming)\n  commit-msg  â†’ commitlint\n                (Conventional Commits)\n\nAlso available as pnpm scripts:\n  pnpm lint:fix Â· pnpm prepare"]

        SRC["ðŸŸ¦ **Astro Source** â€” src/\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nAstro 5 + TypeScript\n\nPages Â· Layouts Â· Components\nUI primitives Â· Struct blocks\nClient scripts Â· CSS Â· Data\nType contracts Â· Images\n\nAll compiled at build time\nto pure static output"]

        DIST["ðŸ“„ **Build Output** â€” /dist\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nStatic HTML / CSS / JS\n\nProduced by: astro build\nCompressed by: astro-compressor\nImages optimised by: Sharp\nCSS minified by: LightningCSS\n\nThis folder is what gets deployed â€”\nno server runtime required"]
    end

    CDN["â¬œ **CDN / Hosting**\nÂ« external Â»\nServes /dist files globally"]
    VISITOR["ðŸ‘¤ **Visitor**\nRequests pages over HTTPS"]
    GH["â¬œ **GitHub**\nÂ« external Â»\nCI/CD pipeline"]

    DEV -->|"writes & edits"| SRC
    DEV -->|"triggers via\ngit commit / pnpm"| TOOL
    CFG -->|"integrations & aliases\nresolved at build time"| SRC
    SRC -->|"astro build\ncompiles everything"| DIST
    DIST -->|"deployed after build"| CDN
    VISITOR -->|"HTTP requests"| CDN
    DEV -->|"git push / PR"| GH
    GH -->|"CI runs build\nand deploy"| DIST

    style DEV fill:#1168BD,color:#fff,stroke:#0e56a0
    style VISITOR fill:#1168BD,color:#fff,stroke:#0e56a0
    style CFG fill:#2E7D32,color:#fff,stroke:#1b5e20
    style TOOL fill:#6A1B9A,color:#fff,stroke:#4a148c
    style SRC fill:#1168BD,color:#fff,stroke:#0e56a0
    style DIST fill:#0277BD,color:#fff,stroke:#01579b
    style CDN fill:#6b6b6b,color:#fff,stroke:#444
    style GH fill:#6b6b6b,color:#fff,stroke:#444
    style REPO fill:#f5f5f5,stroke:#bbb,color:#333
```
